<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Sign Up-Food Miner!</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="signin.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="ie-emulation-modes-warning.js"></script>
		<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  		<script type = "text/javascript"> 
  			$(document).ready(function() {
  				$("#submit").click(function() {
    				if ($("#passwordBox").val() != $("#repasswordBox").val()){
    					alert("Password Not matching!");
    					var x = document.getElementById("passwordBox");
    					var y = document.getElementById("repasswordBox");
    					x.value = "";
    					y.value = "";

    				}
    				else{
    					$.ajax({
    						url: "users/",
    						type: "POST",
      						dataType : "text", // this URL returns a plain text string, not JSON
     						data : { 
     							username: $("#usernameBox").val(),
              	 				password: $("#passwordBox").val(),
               					nickname: $("#nicknameBox").val(),
               					age: $("#ageBox").val(),
               					gender: $("#gender").val()
             				},
      						success: function( data ) {
        						if (data == 'OK') {
         							$("#status").html("Successfully created a new user!");
        						} else {
          							$("#status").html(data);
        						}
      						},
    					});
    				}
  				});
  			});
		</script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

	<body>
		<div class="container">
			<h2 class="form-signin-heading" style="color:#30754D; font-family:Arial Rounded MT Bold">Sign Up for Food Miner!</h2>
      		<form class="form-signin">
			<p>
				<input id="usernameBox" class="form-control" type="text" placeholder="Username" required autofocus size="20"/><br>
    			<input id="passwordBox" class="form-control" type="password" placeholder="password" required size="20"/><br>
    			<input id="repasswordBox" class="form-control" type="password" placeholder="Re-password" required size="20"/><br>
    			<input id="nicknameBox" class="form-control" type="text" placeholder="nickname" required size="20"/><br>
    			<input id="ageBox" class="form-control" type="text" placeholder="age" required size="20"/><br>
				<h4 class="form-signin-heading" style="color:#30754D">Gender</h4>
    			<input type="radio" id="gender" name="sex" value="male" checked>Male 
    			<input type="radio" id="gender" name="sex" value="female"> Female
    		</p>
    		<p>
    			<button id="submit" class="btn btn-lg btn-primary btn-block">Submit</button>
    			<button id="reset" class="btn btn-lg btn-primary btn-block" type="reset">Reset</button>
    			<button id="Back" class="btn btn-lg btn-primary btn-block"><a style="color:white"href="http://localhost:3000/">Back</a></button>
    		</p>
    	    	<div id="status"></div>
    		</form>
    	</div>
	</body>
</html>